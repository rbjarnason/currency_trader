%h3
  = "Trading Strategy Set #{trading_strategies.first.trading_strategy_set.id} #{trading_strategies.first.trading_strategy_set.trading_strategy_population.quote_target.symbol} Fitness #{trading_strategies.first.trading_strategy_set.fitness}"
%table
  %tr
    %th
      = "Id"
    %th
      = "Trading time frame"
    %th
      = "Short/Long"
    %th
      = "Open How far back in min"
    %th
      = "Close How far back in min"
    %th
      = "Open Magnitude Signal"
    %th
      = "Close Magnitude Signal"
    %th
      = "Ave. Trading signals per day"
    %th
      = "Stop 1"
    %th
      = "Stop 2"
    %th
      = "Stop 3"
    %th
      = "Stop 4"
    %th
      = "Stop 5"
    %th
      = "Stop 6"
    %th
      = "Stop 7"
    %th
      = "Stop 8"
    %th
      = "Days bck"
    %th
      = "Min difference"
    %th
      = "Fitness"
  - trading_strategies.each do |strategy|
    %tr
      %td
        = link_to strategy.id, :controller=>"trading_strategies", :action=>"chart", :id=>strategy.id, :day_offset=>0
      %td
        = "#{strategy.trading_strategy_set.trading_time_frame.from_hour}:00 - #{strategy.trading_strategy_set.trading_time_frame.to_hour}:00"
      %td
        = "Short"
      %td
        = (strategy.open_how_far_back_milliseconds/1000/60).to_i
      %td
        = (strategy.close_how_far_back_milliseconds/1000/60).to_i
      %td
        = number_with_precision strategy.open_magnitude_signal_trigger.abs, :precision => 7
      %td
        = number_with_precision strategy.close_magnitude_signal_trigger.abs, :precision => 7
      %td
        = strategy.number_of_evolution_trading_signals/strategy.trading_strategy_set.trading_strategy_population.simulation_days_back
      %td
        = strategy.float_parameters[4].abs.to_i
      %td
        = strategy.float_parameters[5].abs.to_i
      %td
        = strategy.float_parameters[6].abs.to_i
      %td
        = strategy.float_parameters[7].abs.to_i
      %td
        = strategy.float_parameters[8].abs.to_i
      %td
        = strategy.float_parameters[9].abs.to_i
      %td
        = strategy.float_parameters[10].abs.to_i
      %td
        = strategy.float_parameters[11].abs.to_i
      %td
        = strategy.float_parameters[12].abs.to_i
      %td
        = strategy.float_parameters[13].abs.to_i
      %td
        = strategy.simulated_fitness==TradingStrategy::FAILED_FITNESS_VALUE ? "Excluded by #{strategy.simulated_fitness_failure_reason}" : strategy.simulated_fitness
